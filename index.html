<!DOCTYPE html>
<html lang="th" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nutrition Finder | ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</title>
  <meta name="description" content="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å OpenFoodFacts ‡∏ö‡∏ô GitHub Pages (Static Web App)" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{ --radius:18px; --shadow:0 10px 30px rgba(15,23,42,.08); }
    :root,[data-theme="light"]{
      --bg:#f6f8fc; --text:#0f172a; --muted:#5b677a; --card:#ffffff; --border:#e8edf3;
      --accent:#2563eb; --accent-weak:#e9f0ff; --chip:#f3f6fb; --chip-border:#e5ebf4; --link:#0b5ad9;
      --glass: rgba(255,255,255,.65);
    }
    [data-theme="dark"]{
      --bg:#0b1220; --text:#e7ecf5; --muted:#8ea0bd; --card:#111827; --border:#1f2a44;
      --accent:#74c0fc; --accent-weak:#0c2d4f; --chip:#0f1729; --chip-border:#223154; --link:#a6c8ff;
      --glass: rgba(17,24,39,.55);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:radial-gradient(1200px 600px at 20% -10%, #dbeafe 0%, transparent 60%),radial-gradient(1200px 600px at 120% -10%, #ffe4e6 0%, transparent 60%),var(--bg);color:var(--text)}

    .topbar{position:sticky;top:0;z-index:10;background:var(--glass);backdrop-filter: blur(10px);border-bottom:1px solid var(--border)}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    .topbar .wrap{display:flex;align-items:center;gap:14px;min-height:66px}
    .logo{display:inline-flex;align-items:center;gap:10px;text-decoration:none;color:inherit}
    .logo .dot{width:12px;height:12px;border-radius:999px;background:var(--accent)}
    .title{font-weight:800;font-size:18px;letter-spacing:.2px}
    .credit-top{margin-left:auto;font-size:13px;color:var(--muted)}
    .theme-btn{margin-left:8px;border:1px solid var(--border);background:var(--card);color:var(--text);padding:8px 10px;border-radius:12px;cursor:pointer}

    .brandstrip{display:flex;gap:16px;align-items:center;flex-wrap:wrap;margin:14px 0}
    .brandstrip img{height:40px;object-fit:contain}
    [data-theme="dark"] .brandstrip img{filter:brightness(1) contrast(1.05)}

    header.hero{padding:28px 0 10px}
    header.hero h1{font-size:clamp(26px,3.2vw,40px);margin:6px 0 10px}
    header.hero .sub{margin:0;color:var(--muted)}

    .searchbar{margin:18px 0 8px;display:grid;grid-template-columns:1fr auto;gap:10px}
    input[type="search"]{width:100%;padding:16px 16px;border-radius:16px;border:1px solid var(--border);background:var(--card);color:var(--text);outline:none;box-shadow:var(--shadow)}
    input[type="search"]:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--accent-weak)}
    button.primary{border:0;background:var(--accent);color:#fff;padding:14px 18px;border-radius:14px;font-weight:700;cursor:pointer;box-shadow:var(--shadow)}
    button.primary:hover{filter:brightness(.97)}

    .options{color:var(--muted);display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .pill{background:var(--glass);border:1px solid var(--border);border-radius:999px;padding:8px 12px;font-size:12px;backdrop-filter: blur(6px)}

    .cta-row{margin-top:12px}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--border);background:var(--card);color:var(--text);padding:10px 12px;border-radius:12px;cursor:pointer;text-decoration:none}
    .btn:hover{transform:translateY(-1px)}

    .results{margin:20px 0 70px;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:20px;overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow)}
    .card .imgwrap{background:var(--chip);height:180px;display:flex;align-items:center;justify-content:center}
    .card img{max-height:100%;max-width:100%;object-fit:contain}
    .card .body{padding:14px 14px 12px}
    .name{font-weight:700;margin:0 0 6px;font-size:16px}
    .brand{color:var(--muted);font-size:13px;margin-bottom:10px}
    .nutri{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:6px}
    .chip{background:var(--chip);border:1px solid var(--chip-border);border-radius:12px;padding:10px 12px;font-size:13px;display:flex;justify-content:space-between;gap:8px}
    .muted{color:var(--muted)}
    .actions{display:flex;gap:8px;margin-top:12px}
    .btn-ghost{border:1px solid var(--border);background:var(--card);color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer;text-decoration:none}

    .loader{display:none;place-items:center;margin:24px auto;color:var(--muted)}
    .empty{color:var(--muted);text-align:center;margin:26px 0}

    footer{border-top:1px solid var(--border);padding:18px 0 40px;color:var(--muted);font-size:13px}
    .credit-bottom{margin-top:6px}

    a{color:var(--link)}
    .sr{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="container">
      <div class="wrap">
        <a class="logo" href="#" aria-label="Home">
          <span class="dot"></span>
          <span class="title">Nutrition Finder</span>
        </a>
        <div class="credit-top" id="creditTop"></div>
        <button class="theme-btn" id="themeToggle" title="‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°">‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="brandstrip">
      <img id="logo1" alt="‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô 1" src="">
      <img id="logo2" alt="‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô 2" src="">
      <img id="logo3" alt="‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô 3" src="">
    </div>

    <header class="hero" role="banner">
      <h1>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</h1>
      <p class="sub">‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞ <a href="https://world.openfoodfacts.org/" target="_blank" rel="noopener">OpenFoodFacts</a> ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå ¬∑ ‡πÄ‡∏ß‡πá‡∏ö‡∏™‡πÅ‡∏ï‡∏ï‡∏¥‡∏Å‡∏ö‡∏ô GitHub Pages</p>

      <form class="searchbar" id="searchForm">
        <label class="sr" for="q">‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</label>
        <input id="q" type="search" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£/‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå ‡πÄ‡∏ä‡πà‡∏ô yogurt, rice, chocolate‚Ä¶" autocomplete="off" />
        <button class="primary" id="btnSearch" type="submit">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
      </form>

      <div class="options">
        <span class="pill" title="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤">‡∏ú‡∏•/‡∏´‡∏ô‡πâ‡∏≤
          <select id="pageSize" style="background:transparent;border:0;color:inherit">
            <option>10</option>
            <option selected>20</option>
            <option>50</option>
          </select>
        </span>
        <span class="pill">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ï‡πà‡∏≠ 100 g (‡∏ï‡∏≤‡∏°‡∏â‡∏•‡∏≤‡∏Å)</span>
        <label class="pill" for="thOnly" title="‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢">
          <input id="thOnly" type="checkbox" style="margin-right:6px"> ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢
        </label>
      </div>

      <div class="cta-row">
        <a class="btn" href="calculator.html">üßÆ ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</a>
      </div>

      <div class="loader" id="loader">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‚Ä¶</div>
      <div class="empty" id="empty"></div>
    </header>

    <section class="results" id="results" aria-live="polite"></section>
  </div>

  <footer>
    <div class="container">
      <div>‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: OpenFoodFacts (‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞). ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô <em>per 100 g</em> ‡∏à‡∏≤‡∏Å‡∏â‡∏•‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï</div>
      <div class="credit-bottom" id="creditBottom"></div>
    </div>
  </footer>

<script>
const API_SEARCH = 'https://world.openfoodfacts.org/cgi/search.pl';
const IMG_FALLBACK = 'https://static.openfoodfacts.org/images/icons/dist/product-add.svg';

// ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï/‡πÇ‡∏•‡πÇ‡∏Å‡πâ
const CREDIT_TEXT = "‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥: ‡∏Ñ‡∏£‡∏π‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå ‡∏ö‡∏≥‡∏£‡∏∏‡∏á | ‡πÅ‡∏ú‡∏ô‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£ ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏≠‡∏≤‡∏ä‡∏µ‡∏ß‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢ | ¬© 2025";
const LOGOS = ["assets/img/logo1.png","assets/img/logo2.png","assets/img/logo3.png"];

const root = document.documentElement;
function applyTheme(t){ root.setAttribute('data-theme', t); localStorage.setItem('nf-theme', t); }
function toggleTheme(){ const cur = root.getAttribute('data-theme')||'light'; applyTheme(cur==='light'?'dark':'light'); }
(function initTheme(){ applyTheme(localStorage.getItem('nf-theme')||'light'); })();
document.getElementById('themeToggle').addEventListener('click', toggleTheme);

function safeSetLogo(id, src){
  const el = document.getElementById(id);
  if(!el) return;
  el.onerror = () => { el.style.display = 'none'; };
  if(src) el.src = src;
}

window.addEventListener('DOMContentLoaded',()=>{
  const top = document.getElementById('creditTop');
  const bottom = document.getElementById('creditBottom');
  if(top) top.textContent = CREDIT_TEXT;
  if(bottom) bottom.textContent = CREDIT_TEXT;

  const [l1,l2,l3] = LOGOS;
  safeSetLogo('logo1', l1);
  safeSetLogo('logo2', l2);
  safeSetLogo('logo3', l3);

  document.getElementById('q').focus();
});

const $ = (sel)=>document.querySelector(sel);
function fmt(num, digits=1){ if(num===undefined || num===null || Number.isNaN(num)) return '‚Äì'; return Number(num).toFixed(digits); }
function makeChip(label, value, unit=''){ return `<div class="chip"><span>${label}</span><strong>${value} ${unit}</strong></div>`; }

function buildNutritionText(p){
  const N = p.nutriments||{};
  const name = p.product_name_th || p.generic_name_th || p.product_name || p.generic_name || '-';
  const brand = p.brands || '-';
  const energy = N['energy-kcal_100g'] ?? (N['energy_100g']? N['energy_100g']/4.184 : undefined);
  const protein = N['proteins_100g'];
  const fat = N['fat_100g'];
  const carbs = N['carbohydrates_100g'];
  const sugars = N['sugars_100g'];
  const fiber = N['fiber_100g'];
  const sodium = N['sodium_100g'];
  const salt = N['salt_100g'];
  return (
`‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå: ${name}
‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠: ${brand}
‡∏ï‡πà‡∏≠ 100 g:
- ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô: ${fmt(energy)} kcal
- ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô: ${fmt(protein)} g
- ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô: ${fmt(fat)} g
- ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏Ø: ${fmt(carbs)} g
- ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•: ${fmt(sugars)} g
- ‡πÉ‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£: ${fmt(fiber)} g
- ‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°: ${sodium!=null?fmt(sodium*1000):'‚Äì'} mg
- ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠: ${fmt(salt)} g
‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: OpenFoodFacts`
  );
}

async function copyNutritionFromIndex(idx){
  const p = window.__products?.[idx];
  if(!p) return;
  try{ await navigator.clipboard.writeText(buildNutritionText(p)); alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß'); }
  catch(e){ console.error(e); alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á'); }
}

function renderCard(p, idx){
  const n = p.product_name_th || p.generic_name_th || p.product_name || p.generic_name || '(‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå)';
  const brand = p.brands || '‚Äî';
  const img = p.image_front_small_url || p.image_url || IMG_FALLBACK;
  const N = p.nutriments || {};
  const energy = N['energy-kcal_100g'] ?? (N['energy_100g']? N['energy_100g']/4.184 : undefined);
  const protein = N['proteins_100g'];
  const fat = N['fat_100g'];
  const carbs = N['carbohydrates_100g'];
  const sugars = N['sugars_100g'];
  const fiber = N['fiber_100g'];
  const sodium = N['sodium_100g'];
  const salt = N['salt_100g'];
  const code = p.code || '';
  const url = code ? `https://world.openfoodfacts.org/product/${code}` : (p.url||'#');

  return `
  <article class="card">
    <div class="imgwrap"><img alt="${n}" loading="lazy" src="${img}"></div>
    <div class="body">
      <h3 class="name">${n}</h3>
      <div class="brand">‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠/‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï: ${brand}</div>
      <div class="nutri">
        ${makeChip('‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô', fmt(energy), 'kcal')}
        ${makeChip('‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô', fmt(protein), 'g')}
        ${makeChip('‡πÑ‡∏Ç‡∏°‡∏±‡∏ô', fmt(fat), 'g')}
        ${makeChip('‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏Ø', fmt(carbs), 'g')}
        ${makeChip('‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•', fmt(sugars), 'g')}
        ${makeChip('‡πÉ‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£', fmt(fiber), 'g')}
        ${makeChip('‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°', sodium!=null?fmt(sodium*1000):'‚Äì', 'mg')}
        ${makeChip('‡πÄ‡∏Å‡∏•‡∏∑‡∏≠', fmt(salt), 'g')}
      </div>
      <div class="actions">
        <button class="btn-ghost" onclick="copyNutritionFromIndex(${idx})">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
        <a class="btn-ghost" href="${url}" target="_blank" rel="noopener">‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</a>
      </div>
    </div>
  </article>`;
}

async function searchFoods(q, pageSize=20){
  const url = new URL(API_SEARCH);
  url.searchParams.set('search_terms', q);
  url.searchParams.set('search_simple', '1');
  url.searchParams.set('action', 'process');
  url.searchParams.set('json', '1');
  url.searchParams.set('page_size', String(pageSize));
  url.searchParams.set('lc', 'th');

  const thOnly = document.getElementById('thOnly')?.checked;
  if(thOnly){
    url.searchParams.set('tagtype_0','countries');
    url.searchParams.set('tag_contains_0','contains');
    url.searchParams.set('tag_0','Thailand');
    url.searchParams.set('tagtype_1','purchase_places');
    url.searchParams.set('tag_contains_1','contains');
    url.searchParams.set('tag_1','Thailand');
  }

  $('#loader').style.display='grid';
  $('#empty').textContent='';
  $('#results').innerHTML='';

  try{
    const res = await fetch(url.toString());
    if(!res.ok) throw new Error('Network error');
    const data = await res.json();
    const products = (data.products||[]).filter(p=>p.nutriments);
    window.__products = products;

    if(products.length===0){
      $('#empty').textContent='‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏≠‡∏≤‡∏ï‡∏¥‡πä‡∏Å "‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢" ‡∏≠‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤';
      return;
    }
    const html = products.map((p,i)=>renderCard(p,i)).join('');
    $('#results').innerHTML = html;
  }catch(err){
    console.error(err);
    $('#empty').textContent='‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á';
  }finally{
    $('#loader').style.display='none';
  }
}

const form = $('#searchForm');
form.addEventListener('submit', (e)=>{
  e.preventDefault();
  const q = $('#q').value.trim();
  if(!q){ $('#empty').textContent='‡πÇ‡∏õ‡∏£‡∏î‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤'; return; }
  const pageSize = Number($('#pageSize').value || 20);
  searchFoods(q, pageSize);
});
</script>
</body>
</html>
